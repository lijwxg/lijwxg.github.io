---
title: 免秘钥登陆
date: 2018-10-07 12:10:53
tags: 
- linux
- ssh
---

为了减少重复输入密码, 和增加登陆的安全性, 使用免秘钥登陆的方式进行登陆.
<!-- more -->

## 生成秘钥

1、在客户端打开终端，执行ssh-keygen，该命令会默认在~/.ssh/目录下创建id_rsa、id_rsa.pub两个文件，分别为您的公钥和私钥。

2、将公钥id_rsa.pub文件拷贝到服务器端的~/.ssh/authorized_keys文件中，有三种方法：

## 上传秘钥

- 通过scp拷贝：
例：#可选参数-P代表指定用端口号22

```shell
scp -P 22 ~/.ssh/id_rsa.pub user@host:~/authorized_keys
```

- 通过ssh-copyid程序：

　例：#此种方式简单，不需追加改文件名，但不能指定端口号，默认以22端口

```shell
ssh-copy-id user@host
```

- 通过cat方法：

　例：

```shell
cat ~/.ssh/id_rsa.pub | ssh -p 22 user@host 'cat >> ~/.ssh/authorized_keys'
```
